<h1>Change Password For <span class="d-inline-block">{{this.session.user.callsign}}</span></h1>
<BackToHome/>

{{#if this.isPasswordReset}}
  <p>
    Please enter a new password for your account.
  </p>
{{/if}}
<ChForm @formId="password" @formFor={{this.password}} @validator={{this.passwordValidations}}
        @onSubmit={{this.submitAction}} @onCancel={{this.cancelAction}} as |f|>
  {{#unless this.isPasswordReset}}
    <div class="form-row">
      <f.input @name="password_old" @type="password" @label="Old Password" @size=20 @maxlength=30 @grid="col-auto"/>
    </div>
  {{/unless}}
  <div class="form-row">
    <f.input @name="password" @type="password" @label="New Password" @size=20 @maxlength=30 @grid="col-auto"/>
  </div>
  <div class="form-row">
    <f.input @name="password_confirmation" @type="password" @label="Confirm New Password" @size=20 @maxlength=30
             @grid="col-auto"/>
  </div>
  <f.submit @label={{if this.isSubmitting "Changing Password" "Change Password"}} @disabled={{this.isSubmitting}} />
  <f.cancel/>
  {{#if this.isSubmitting}}
    <LoadingIndicator/>
  {{/if}}
</ChForm>
